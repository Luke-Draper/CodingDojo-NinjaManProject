<html>
	<head>
		<title>Ninja-Man</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
				line-height: 0;
			}
			.tile {
				height: 40px;
				width: 40px;
				display: inline-block;
			}
			.wall {
				background-color: blue;
			}
			.sushi {
				background-color: black;
				background-image: url("img/sushi.png");
				background-size: contain;
			}
			.blank {
				background-color: black;
			}
			#ninja-man {
				background-color: black;
				background-image: url("img/ninja.gif");
				background-size: contain;
				position: absolute;
				top: 40px;
				left: 40px;
			}
		</style>
	</head>
	<body>
		<div id="world"></div>
		<div id="ninja-man" class="tile"></div>
		<script type="text/javascript">
			
			var worldArray = [
				[1,1,1,1,1],
				[1,0,2,2,1],
				[1,2,1,2,1],
				[1,2,2,2,1],
				[1,2,1,2,1],
				[1,2,2,2,1],
				[1,2,1,2,1],
				[1,2,2,2,1],
				[1,1,1,1,1],
			];
			var worldDict = {
				0: 'blank',
				1: 'wall',
				2: 'sushi'
			}

			function drawWorld() {
				var worldContent = "";
				for (var row=0; row<worldArray.length; row++) {
					worldContent += "<div class='row'>";
					for (var col=0; col<worldArray[row].length; col++) {
						worldContent += ("<div class='tile " + worldDict[worldArray[row][col]] + "'></div>");
					}
					worldContent += "</div>";
				}
				document.getElementById('world').innerHTML = worldContent;
			}

			var leftValue = 40, topValue = 40;
			const MAX_X = 400, MAX_Y = 400, MIN_X = 0, MIN_Y = 0, STEP_SIZE = 40;

			function update() {
				if (leftValue < MIN_X) {
					leftValue = MIN_X;
				} else if (leftValue > MAX_X) {
					leftValue = MAX_X;
				}
				if (topValue < MIN_Y) {
					topValue = MIN_Y;
				} else if (topValue > MAX_Y) {
					topValue = MAX_Y;
				}
				document.getElementById("ninja-man").style.left = leftValue + "px";
				document.getElementById("ninja-man").style.top = topValue + "px";
			}

			document.onkeydown = function(e){
				if(e.keyCode == 37) { // LEFT
					leftValue = leftValue - STEP_SIZE;
				}
				else if (e.keyCode == 39) { // RIGHT
					leftValue = leftValue + STEP_SIZE;
				}
				else if (e.keyCode == 38) { // UP
					topValue = topValue - STEP_SIZE;
				}
				else if (e.keyCode == 40) { // DOWN
					topValue = topValue + STEP_SIZE;
				}
				update();
			}
			drawWorld();
		</script>
	</body>
</html>